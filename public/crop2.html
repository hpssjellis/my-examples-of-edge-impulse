<h3 align=center>Crop image data test</h3>

Starting with a 5 x 4 array but as a 20 element linear array. Pick a subset 3 x 2 or other smaller array and extract the data.<br><br><br>

<body onload="{
  //Globals
  document.myOriginalRow = 5
  document.myOriginalCol = 4
  document.myMax = document.myOriginalRow * document.myOriginalCol
  
  
  // setup the main array
  document.myIntArray = new Array()
  for (myLoop = 0; myLoop <= document.myMax - 1; myLoop++){
     document.myIntArray[myLoop] = myLoop
  }
  //console.log(document.myIntArray)
  
  //Show the main arrray on the webpage
  document.getElementById('myArea01').value = document.myIntArray
                                         
  myTemp = '<table border=1><tr>' 
  for (myLoop = 0; myLoop <= document.myMax-1; myLoop++){ 
      myTemp +='<td>'+document.myIntArray[myLoop] + '</td>'  
      let myBreak = parseInt(document.myOriginalRow) - 1
      if (myLoop % document.myOriginalRow == myBreak) { myTemp +='</tr><tr>'    } 
  }
  myTemp += '</tr></table>'
  document.getElementById('myDiv01').innerHTML = myTemp  
  
  
}">

 
Make Array Col: <input type=text id="myInStartHeight" value=1 size=5><br>
Make Array Row: <input type=text id="myInStartWidth" value=0 size=4><br> 

<input type=button value="Make random Array" onClick="{
                                                      
                                                      
  document.myOriginalRow = document.getElementById('myInStartWidth').value    
  document.myOriginalCol = document.getElementById('myInStartHeight').value  
  document.myMax = document.myOriginalRow * document.myOriginalCol
  
  
  // setup the main array
  document.myIntArray = new Array()
  for (myLoop = 0; myLoop <= document.myMax - 1; myLoop++){
     document.myIntArray[myLoop] = Math.floor(Math.random() * 99);
  }
  //console.log(document.myIntArray)
  
  //Show the main arrray on the webpage
  document.getElementById('myArea01').value = document.myIntArray
                                         
  myTemp = '<table border=1><tr>' 
  for (myLoop = 0; myLoop <= document.myMax-1; myLoop++){ 
      myTemp +='<td>'+document.myIntArray[myLoop] + '</td>'  
      let myBreak = parseInt(document.myOriginalRow) - 1
      if (myLoop % document.myOriginalRow == myBreak) { myTemp +='</tr><tr>'    } 
  }
  myTemp += '</tr></table>'
  document.getElementById('myDiv01').innerHTML = myTemp                                          
                                         
}">  
  
  
  
  

Crop Start Col: <input type=text id="myInStartHeight" value=1 size=4><br>
Crop Start Row: <input type=text id="myInStartWidth" value=0 size=4><br>
Crop Width: <input type=text id="myInWidth" value=3 size=4><br>
Crop Height: <input type=text id="myInHeight" value=2 size=4><br><br>

<input type=button value="Crop" onClick="{
                                             
  myX = document.getElementById('myInStartWidth').value    
  myY = document.getElementById('myInStartHeight').value  
  myW = document.getElementById('myInWidth').value     
  myH = parseInt(document.getElementById('myInHeight').value)                                     
                                         
  //alert(document.myIntArray)  
  //alert(myW + ', ' + myH + ', '+ myX + ', '+ myY)

  //Fake 2D array then extract out the data into new smaller array
  
                                  

                                         
                                         
  document.myCropArray = new Array()                                                                                 
  let mySmallerCounter = -1;  
  let myMainCounter = 0
  let myMax1 = parseInt(myX) + parseInt(myH) - 1
  let myMax2 = parseInt(myY) + parseInt(myW) - 1
  console.log('myMax1')
  console.log(myMax1)
  console.log('myMax2')
  console.log(myMax2)
                                         
                                         
                                         
                                         
  for (let myLoop1 = myX; myLoop1 <= myMax1; myLoop1++){
     for (let myLoop2 = myY; myLoop2 <= myMax2; myLoop2++){
        mySmallerCounter += 1
        myMainCounter = parseInt(myLoop1*document.myOriginalRow) + parseInt(myLoop2)                                 
        document.myCropArray[mySmallerCounter] =  document.myIntArray[myMainCounter]   
        console.log('myLoop1: ' + myLoop1 + ', myLoop2: ' + myLoop2 +   '\nmySmallerCounter:' + mySmallerCounter + ', myCropArray: ' + myCropArray[mySmallerCounter] + '\nmyMainCounter: ' + myMainCounter + ', myIntArray: '+ document.myIntArray[myMainCounter]  )
     }                                       
  }                                       
                                         
                                         
   // show new array in textarea2  
   document.getElementById('myArea02').value = document.myCropArray  
                                         
  // show new array in a table

  document.myMax2 = myW * myH
  console.log('document.myMax2')    
  console.log(document.myMax2)                                       
                                             
  myTemp2 = '<table border=1><tr>' 
  for (myLoop2 = 0; myLoop2 <= document.myMax2-1; myLoop2++){ 
      myTemp2 +='<td>'+document.myCropArray[myLoop2] + '</td>' 
      let myBreak2 = parseInt(myW)-1                            
      if (myLoop2 % myW == myBreak2) {  // test for new row
         console.log('myW: ' + myW + ', myH:'+myH)                                 
         myTemp2 +='</tr><tr>'    
      }  
  }
  myTemp2 += '</tr></table>'
  document.getElementById('myDiv02').innerHTML = myTemp2                                       
                                         
                                         
                                         
                                         
}"><br><br>

<textarea id="myArea01" rows=3 cols=100>...</textarea><br><br>
<div id="myDiv01">...</div><br><br>
<div id="myDiv02">...</div><br><br>
<textarea id="myArea02" rows=3 cols=100>...</textarea><br><br>



</body>

